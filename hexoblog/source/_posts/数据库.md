***\*实体表\****

1、管理员（<u>id</u>,name,password）//院系的id，与管理员id一一对应

2、教师（<u>id,</u>name,password,fno,sex）//fno是院系号

3、学生（id,name,password,fno,sex,age）

4、课程表（<u>id</u>,name,fno,start,end,testway,boolean）//id自增，testway考试形式，boolean表示是否必修。

5、院系表（<u>id</u>,name）//id自增

6、班级表（<u>id,fno</u>,name,spno,rollyear）//id自增，fno是主键一部分的原因是班级位数只有1位，不能仅仅用id表示

7、专业表（<u>id,fno</u>,name）//id自增

 

***\*关系表\****

SCT（<u>Sno,Cno</u>,Tno,Grade）//成绩用varchar(旷考，缓考，暂未考试，成绩数值)

CT （<u>Tno</u>,Cno）//老师课程表

SCL（<u>Sno</u>,Clno）//学生班级表

 

 

***\*命名规则\****

管理员id：院系号的两位，0是superadmin。

学生id: 年（4）院（2）专（1）班（1）+idtag（学生标志）

教师id: 年（4）院（2）+idtag（教师标志）

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

ER图中没有弱实体机，而由强实体集得到如下关系模式

Admin（<u>Dno</u>,Aname,password）

Teacher（Tno,Tname,Password,Dno,Sex）

Student（<u>Sno</u>,Sname,Password,Dno,Sex,Age）

Course（<u>Cno</u>,Cname,Dno,Start,End,Testway,Boolean）

Department（<u>Dno</u>,Dname）

Class（<u>Clno,Dno</u>,Clname,Spno,Rollyear）

Speciality（<u>Spno,Dno</u>,Spname）

其中，每个关系牧师都源于同名实体集，码用下划线标记。

由个联系集得到如下关系模式

Work_in(<u>Tno</u>,Dno)

Open(<u>Cno</u>,Dno)

D_SP(<u>Spno</u>,Dno)

SP_CL(<u>Clno,Dno</u>)

SCT(<u>Sno,Cno</u>,Tno,Grade)

CT (<u>Tno</u>,Cno)

SCL(<u>Sno,Clno</u>)

Manage(<u>Dno</u>)

其中，每个关系模式都源于同名联系集，码用下划线标记。

下一步，我们合并具有相同码的关系模式，其中Teacher和CT和Work_in、Student和SCL、Course和Open、Class和SP_CL、Speciality和D_SP、Department和Manage拥有相同的码，合并后，得到E-R模型的一组关系模式。

 

 

Admin（<u>Dno</u>,Aname,password）

Teacher（<u>Tno</u>,Tname,Password,Dno,Sex,Cno）

Student（<u>Sno</u>,Sname,Password,Dno,Sex,Age,Clno）

Course（<u>Cno</u>,Cname,Dno,Start,End,Testway,Boolean）

Department（Dno,Dname）

Class（<u>Clno,Dno</u>,Clname,Spno,Rollyear）

Speciality（Spno,Dno,Spname）

SCT(<u>Sno,Cno</u>,Tno,Grade)